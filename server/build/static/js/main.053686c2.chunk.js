(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{14:function(e,t,s){},9:function(e,t,s){"use strict";s.r(t);var a=s(3),r=s(4),n=s(8),c=s(7),i=s(1),d=s.n(i),l=s(5),u=s.n(l),j=(s(14),s(6)),m=s(0),o=new j.w3cwebsocket("ws://192.168.0.199:8000"),b=function(e){Object(n.a)(s,e);var t=Object(c.a)(s);function s(e){var r;return Object(a.a)(this,s),(r=t.call(this,e)).handleUName=function(e){r.setState({userName:e.target.value})},r.handleTeam=function(e){r.setState({team:e.target.value})},r.handleLogin=function(){""!==r.state.userName&&0!=r.state.team?o.send(JSON.stringify({type:"login",userName:r.state.userName,team:r.state.team})):alert("Please fill all the details")},r.handleNextGame=function(){o.send(JSON.stringify({type:"nextGame",gameCount:r.state.gameCount+1}))},r.handleCardClick=function(e){if(r.state.turn==r.state.userId){var t=0;t=4==r.state.turn?1:r.state.turn+1;var s=r.state.cards.indexOf(e.target.value);r.state.cards.splice(s,1),"NA"==r.state.currentSuit?o.send(JSON.stringify({type:"firstMove",userId:r.state.userId,move:e.target.value})):"NA"==r.state.trump&&r.state.currentSuit!=e.target.value.substring(0,1)&&t==r.state.roundStartsWith?o.send(JSON.stringify({type:"setTrumpandOver",userId:r.state.userId,move:e.target.value})):"NA"==r.state.trump&&r.state.currentSuit!=e.target.value.substring(0,1)?o.send(JSON.stringify({type:"setTrump",userId:r.state.userId,move:e.target.value})):t==r.state.roundStartsWith?o.send(JSON.stringify({type:"roundOver",userId:r.state.userId,move:e.target.value})):o.send(JSON.stringify({type:"move",userId:r.state.userId,move:e.target.value}))}},r.renderCards=function(){for(var e=[],t={},s=0;s<r.state.cards.length;++s)"D"==r.state.cards[s].substring(0,1)?t[s]="Diamonds":"H"==r.state.cards[s].substring(0,1)?t[s]="Hearts":"C"==r.state.cards[s].substring(0,1)?t[s]="Clubs":"S"==r.state.cards[s].substring(0,1)&&(t[s]="Spades"),"14"==r.state.cards[s].substring(1)?e.push(Object(m.jsx)("button",{className:t[s],style:{cursor:"pointer"},onClick:r.handleCardClick,value:r.state.cards[s],children:"A"})):"13"==r.state.cards[s].substring(1)?e.push(Object(m.jsx)("button",{className:t[s],style:{cursor:"pointer"},onClick:r.handleCardClick,value:r.state.cards[s],children:"K"})):"12"==r.state.cards[s].substring(1)?e.push(Object(m.jsx)("button",{className:t[s],style:{cursor:"pointer"},onClick:r.handleCardClick,value:r.state.cards[s],children:"Q"})):"11"==r.state.cards[s].substring(1)?e.push(Object(m.jsx)("button",{className:t[s],style:{cursor:"pointer"},onClick:r.handleCardClick,value:r.state.cards[s],children:"J"})):e.push(Object(m.jsx)("button",{className:t[s],style:{cursor:"pointer"},onClick:r.handleCardClick,value:r.state.cards[s],children:r.state.cards[s].substring(1)}));return e},r.renderBoard=function(){for(var e=[],t={1:"",2:"",3:"",4:""},s={1:[],2:[],3:[],4:[]},a={1:"",2:"",3:"",4:""},n="NA",c="NA",i=1;i<=4;++i)r.state.currentRoundMoves[i]&&("D"==r.state.currentRoundMoves[i].substring(0,1)?a[i]="Diamonds":"H"==r.state.currentRoundMoves[i].substring(0,1)?a[i]="Hearts":"C"==r.state.currentRoundMoves[i].substring(0,1)?a[i]="Clubs":"S"==r.state.currentRoundMoves[i].substring(0,1)&&(a[i]="Spades"),"14"==r.state.currentRoundMoves[i].substring(1)?s[i].push(Object(m.jsx)("div",{className:a[i],children:"A"})):"13"==r.state.currentRoundMoves[i].substring(1)?s[i].push(Object(m.jsx)("div",{className:a[i],children:"K"})):"12"==r.state.currentRoundMoves[i].substring(1)?s[i].push(Object(m.jsx)("div",{className:a[i],children:"Q"})):"11"==r.state.currentRoundMoves[i].substring(1)?s[i].push(Object(m.jsx)("div",{className:a[i],children:"J"})):s[i].push(Object(m.jsx)("div",{className:a[i],children:r.state.currentRoundMoves[i].substring(1)})));return 1==r.state.currentGameWinner?(t[1]="winner",t[3]="winner"):2==r.state.currentGameWinner?(t[2]="winner",t[4]="winner"):1==r.state.turn?t[1]="current":2==r.state.turn?t[2]="current":3==r.state.turn?t[3]="current":4==r.state.turn&&(t[4]="current"),"D"==r.state.currentSuit?n="Diamonds":"H"==r.state.currentSuit?n="Hearts":"C"==r.state.currentSuit?n="Clubs":"S"==r.state.currentSuit&&(n="Spades"),"D"==r.state.trump?c="Diamonds":"H"==r.state.trump?c="Hearts":"C"==r.state.trump?c="Clubs":"S"==r.state.trump&&(c="Spades"),1==r.state.userId?e.push(Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"placement1",children:[Object(m.jsxs)("div",{className:"stats",children:["Your Details: ",Object(m.jsx)("br",{})]}),"Player: ",r.state.userId," ",Object(m.jsx)("br",{}),"Name: ",r.state.userName," ",Object(m.jsx)("br",{}),"Your Team: Team",r.state.team]}),Object(m.jsxs)("div",{className:t[3]+"placement2",children:[Object(m.jsx)("div",{className:"stats",children:"Player 3:"}),s[3]]}),Object(m.jsxs)("div",{className:"placement3",children:[Object(m.jsxs)("div",{className:"stats",children:["This Game Details: ",Object(m.jsx)("br",{})]}),"Current Suit: ",n," ",Object(m.jsx)("br",{}),"Trump: ",c," ",Object(m.jsx)("br",{}),0==r.state.previousRoundWinner?"Last Hand: NA":"Last Hand: Player"+r.state.previousRoundWinner]}),Object(m.jsxs)("div",{className:t[2]+"placement4",children:[Object(m.jsx)("div",{className:"stats",children:"Player 2:"}),s[2]]}),Object(m.jsx)("div",{className:"placement5",children:0==r.state.currentGameWinner?Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"subheader",children:"Dehla Pakad"}),Object(m.jsxs)("div",{className:"tagline",children:["Game: ",r.state.gameCount]})]}):Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"subheader",children:"Dehla Pakad"}),Object(m.jsx)("div",{className:"tagline",style:{cursor:"pointer"},onClick:r.handleNextGame,children:"Start Next Game"})]})}),Object(m.jsxs)("div",{className:t[4]+"placement6",children:[Object(m.jsx)("div",{className:"stats",children:"Player 4:"}),s[4]]}),Object(m.jsxs)("div",{className:"placement7",children:[Object(m.jsxs)("div",{className:"stats",children:["Hands Captured so far:",Object(m.jsx)("br",{})]}),"Team 1: ",r.state.hands[1].length/4,Object(m.jsx)("br",{}),"Team 2: ",r.state.hands[2].length/4]}),Object(m.jsxs)("div",{className:t[1]+"placement8",children:[Object(m.jsx)("div",{className:"stats",children:"Player 1:"}),s[1]]}),Object(m.jsxs)("div",{className:"placement9",children:[Object(m.jsxs)("div",{className:"stats",children:["Total Points: ",Object(m.jsx)("br",{})]}),"Team 1: ",r.state.team1points," ",Object(m.jsx)("br",{}),"Team 2: ",r.state.team2points]})]})):2==r.state.userId?e.push(Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"placement1",children:[Object(m.jsxs)("div",{className:"stats",children:["Your Details: ",Object(m.jsx)("br",{})]}),"Player: ",r.state.userId," ",Object(m.jsx)("br",{}),"Name: ",r.state.userName," ",Object(m.jsx)("br",{}),"Your Team: Team",r.state.team]}),Object(m.jsxs)("div",{className:t[4]+"placement2",children:[Object(m.jsx)("div",{className:"stats",children:"Player 4:"}),s[4]]}),Object(m.jsxs)("div",{className:"placement3",children:[Object(m.jsxs)("div",{className:"stats",children:["This Game Details: ",Object(m.jsx)("br",{})]}),"Current Suit: ",n," ",Object(m.jsx)("br",{}),"Trump: ",c," ",Object(m.jsx)("br",{}),0==r.state.previousRoundWinner?"Last Hand: NA":"Last Hand: Player"+r.state.previousRoundWinner]}),Object(m.jsxs)("div",{className:t[3]+"placement4",children:[Object(m.jsx)("div",{className:"stats",children:"Player 3:"}),s[3]]}),Object(m.jsx)("div",{className:"placement5",children:0==r.state.currentGameWinner?Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"subheader",children:"Dehla Pakad"}),Object(m.jsxs)("div",{className:"tagline",children:["Game: ",r.state.gameCount]})]}):Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"subheader",children:"Dehla Pakad"}),Object(m.jsx)("div",{className:"tagline",style:{cursor:"pointer"},onClick:r.handleNextGame,children:"Start Next Game"})]})}),Object(m.jsxs)("div",{className:t[1]+"placement6",children:[Object(m.jsx)("div",{className:"stats",children:"Player 1:"}),s[1]]}),Object(m.jsxs)("div",{className:"placement7",children:[Object(m.jsxs)("div",{className:"stats",children:["Hands Captured so far:",Object(m.jsx)("br",{})]}),"Team 1: ",r.state.hands[1].length/4,Object(m.jsx)("br",{}),"Team 2: ",r.state.hands[2].length/4]}),Object(m.jsxs)("div",{className:t[2]+"placement8",children:[Object(m.jsx)("div",{className:"stats",children:"Player 2:"}),s[2]]}),Object(m.jsxs)("div",{className:"placement9",children:[Object(m.jsxs)("div",{className:"stats",children:["Total Points: ",Object(m.jsx)("br",{})]}),"Team 1: ",r.state.team1points," ",Object(m.jsx)("br",{}),"Team 2: ",r.state.team2points]})]})):3==r.state.userId?e.push(Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"placement1",children:[Object(m.jsxs)("div",{className:"stats",children:["Your Details: ",Object(m.jsx)("br",{})]}),"Player: ",r.state.userId," ",Object(m.jsx)("br",{}),"Name: ",r.state.userName," ",Object(m.jsx)("br",{}),"Your Team: Team",r.state.team]}),Object(m.jsxs)("div",{className:t[1]+"placement2",children:[Object(m.jsx)("div",{className:"stats",children:"Player 1:"}),s[1]]}),Object(m.jsxs)("div",{className:"placement3",children:[Object(m.jsxs)("div",{className:"stats",children:["This Game Details: ",Object(m.jsx)("br",{})]}),"Current Suit: ",n," ",Object(m.jsx)("br",{}),"Trump: ",c," ",Object(m.jsx)("br",{}),0==r.state.previousRoundWinner?"Last Hand: NA":"Last Hand: Player"+r.state.previousRoundWinner]}),Object(m.jsxs)("div",{className:t[4]+"placement4",children:[Object(m.jsx)("div",{className:"stats",children:"Player 4:"}),s[4]]}),Object(m.jsx)("div",{className:"placement5",children:0==r.state.currentGameWinner?Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"subheader",children:"Dehla Pakad"}),Object(m.jsxs)("div",{className:"tagline",children:["Game: ",r.state.gameCount]})]}):Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"subheader",children:"Dehla Pakad"}),Object(m.jsx)("div",{className:"tagline",style:{cursor:"pointer"},onClick:r.handleNextGame,children:"Start Next Game"})]})}),Object(m.jsxs)("div",{className:t[2]+"placement6",children:[Object(m.jsx)("div",{className:"stats",children:"Player 2:"}),s[2]]}),Object(m.jsxs)("div",{className:"placement7",children:[Object(m.jsxs)("div",{className:"stats",children:["Hands Captured so far:",Object(m.jsx)("br",{})]}),"Team 1: ",r.state.hands[1].length/4,Object(m.jsx)("br",{}),"Team 2: ",r.state.hands[2].length/4]}),Object(m.jsxs)("div",{className:t[3]+"placement8",children:[Object(m.jsx)("div",{className:"stats",children:"Player 3:"}),s[3]]}),Object(m.jsxs)("div",{className:"placement9",children:[Object(m.jsxs)("div",{className:"stats",children:["Total Points: ",Object(m.jsx)("br",{})]}),"Team 1: ",r.state.team1points," ",Object(m.jsx)("br",{}),"Team 2: ",r.state.team2points]})]})):4==r.state.userId&&e.push(Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"placement1",children:[Object(m.jsxs)("div",{className:"stats",children:["Your Details: ",Object(m.jsx)("br",{})]}),"Player: ",r.state.userId," ",Object(m.jsx)("br",{}),"Name: ",r.state.userName," ",Object(m.jsx)("br",{}),"Your Team: Team",r.state.team]}),Object(m.jsxs)("div",{className:t[2]+"placement2",children:[Object(m.jsx)("div",{className:"stats",children:"Player 2:"}),s[2]]}),Object(m.jsxs)("div",{className:"placement3",children:[Object(m.jsxs)("div",{className:"stats",children:["This Game Details: ",Object(m.jsx)("br",{})]}),"Current Suit: ",n," ",Object(m.jsx)("br",{}),"Trump: ",c," ",Object(m.jsx)("br",{}),0==r.state.previousRoundWinner?"Last Hand: NA":"Last Hand: Player"+r.state.previousRoundWinner]}),Object(m.jsxs)("div",{className:t[1]+"placement4",children:[Object(m.jsx)("div",{className:"stats",children:"Player 1:"}),s[1]]}),Object(m.jsx)("div",{className:"placement5",children:0==r.state.currentGameWinner?Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"subheader",children:"Dehla Pakad"}),Object(m.jsxs)("div",{className:"tagline",children:["Game: ",r.state.gameCount]})]}):Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"subheader",children:"Dehla Pakad"}),Object(m.jsx)("div",{className:"tagline",style:{cursor:"pointer"},onClick:r.handleNextGame,children:"Start Next Game"})]})}),Object(m.jsxs)("div",{className:t[3]+"placement6",children:[Object(m.jsx)("div",{className:"stats",children:"Player 3:"}),s[3]]}),Object(m.jsxs)("div",{className:"placement7",children:[Object(m.jsxs)("div",{className:"stats",children:["Hands Captured so far:",Object(m.jsx)("br",{})]}),"Team 1: ",r.state.hands[1].length/4,Object(m.jsx)("br",{}),"Team 2: ",r.state.hands[2].length/4]}),Object(m.jsxs)("div",{className:t[4]+"placement8",children:[Object(m.jsx)("div",{className:"stats",children:"Player 4:"}),s[4]]}),Object(m.jsxs)("div",{className:"placement9",children:[Object(m.jsxs)("div",{className:"stats",children:["Total Points: ",Object(m.jsx)("br",{})]}),"Team 1: ",r.state.team1points," ",Object(m.jsx)("br",{}),"Team 2: ",r.state.team2points]})]})),e.push(Object(m.jsxs)("div",{className:"placement10",children:[Object(m.jsxs)("div",{className:"stats",children:["Your Cards ",Object(m.jsx)("br",{})]}),r.renderCards()]})),e},r.calcRoundWinner=function(){var e=0,t=0,s=r.state.hands[1].slice(),a=r.state.hands[2].slice(),n=r.state.pile.slice();if(r.state.currentRoundMoves[1].substring(0,1)==r.state.currentSuit&&r.state.currentRoundMoves[2].substring(0,1)==r.state.currentSuit&&r.state.currentRoundMoves[3].substring(0,1)==r.state.currentSuit&&r.state.currentRoundMoves[4].substring(0,1)==r.state.currentSuit)for(var c=1;c<=4;++c)parseInt(r.state.currentRoundMoves[c].substring(1))>parseInt(e)&&(e=r.state.currentRoundMoves[c].substring(1),t=c);else if(r.state.currentRoundMoves[1].substring(0,1)!=r.state.trump&&r.state.currentRoundMoves[2].substring(0,1)!=r.state.trump&&r.state.currentRoundMoves[3].substring(0,1)!=r.state.trump&&r.state.currentRoundMoves[4].substring(0,1)!=r.state.trump)for(var i=1;i<=4;++i)parseInt(r.state.currentRoundMoves[i].substring(1))>parseInt(e)&&r.state.currentRoundMoves[i].substring(0,1)==r.state.currentSuit&&(e=r.state.currentRoundMoves[i].substring(1),t=i);else for(var d=1;d<=4;++d)parseInt(r.state.currentRoundMoves[d].substring(1))>parseInt(e)&&r.state.currentRoundMoves[d].substring(0,1)==r.state.trump&&(e=r.state.currentRoundMoves[d].substring(1),t=d);for(var l=1;l<=4;++l)n=n.concat(r.state.currentRoundMoves[l]);0==r.state.cards.length?(1==t||3==t?s=r.state.hands[1].concat(n):a=r.state.hands[2].concat(n),r.setState({pile:[],hands:{1:s,2:a},previousRoundWinner:t,turn:t}),r.calcGameWinner()):t==r.state.previousRoundWinner?(1==t||3==t?s=r.state.hands[1].concat(n):a=r.state.hands[2].concat(n),r.setState({turn:t,hands:{1:s,2:a},previousRoundWinner:0,pile:[],currentRoundMoves:{},roundStartsWith:t,currentSuit:"NA"})):r.setState({turn:t,previousRoundWinner:t,pile:n,currentRoundMoves:{},roundStartsWith:t,currentSuit:"NA"})},r.calcGameWinner=function(){for(var e=0,t=0,s=0;s<r.state.hands[1].length;++s)"10"==r.state.hands[1][s].substring(1)&&(e+=1);for(var a=0;a<r.state.hands[2].length;++a)"10"==r.state.hands[2][a].substring(1)&&(t+=1);var n=r.state.team1points,c=r.state.team2points;4==e?(n+=3,r.setState({currentGameWinner:1,team1points:n})):4==t?(c+=3,r.setState({currentGameWinner:2,team2points:c})):3==e?(n+=2,r.setState({currentGameWinner:1,team1points:n})):3==t?(c+=2,r.setState({currentGameWinner:2,team2points:c})):e==t&&(r.state.hands[1].length>r.state.hands[2].length?(n+=1,r.setState({currentGameWinner:1,team1points:n})):r.state.hands[1].length<r.state.hands[2].length&&(c+=1,r.setState({currentGameWinner:2,team1points:c})))},r.state={userId:0,userName:"",team:0,cards:[],turn:0,roundStartsWith:0,currentSuit:"NA",currentRoundMoves:{},pile:[],hands:{1:[],2:[]},trump:"NA",previousRoundWinner:0,isLoggedIn:!1,readyToStart:!1,team1points:0,team2points:0,gameCount:0,currentGameWinner:0},r}return Object(r.a)(s,[{key:"componentDidMount",value:function(){var e=this;o.onopen=function(){console.log("Connected")},o.onmessage=function(t){var s=JSON.parse(t.data);if("login"===s.type)e.setState({userId:s.id,isLoggedIn:!0});else if("roomFull"===s.type)alert("Room Full");else if("teamFull"===s.type)alert("Team full, please try other team");else if("ready"===s.type)e.setState({readyToStart:!0,cards:s.cards,turn:1,roundStartsWith:1,gameCount:1});else if("nextGame"===s.type)e.setState({cards:s.cards,roundStartsWith:1,currentSuit:"NA",currentRoundMoves:{},pile:[],hands:{1:[],2:[]},trump:"NA",previousRoundWinner:0,gameCount:s.gameCount,currentGameWinner:0}),alert("Starting Next Game");else{var a=e.state.currentRoundMoves;a[s.userId]=s.move;var r=0;r=4==e.state.turn?1:e.state.turn+1,"firstMove"===s.type?e.setState({roundStartsWith:s.userId,turn:r,currentRoundMoves:a,currentSuit:s.move.substring(0,1)}):"setTrump"===s.type?e.setState({turn:r,currentRoundMoves:a,trump:s.move.substring(0,1)}):"setTrumpandOver"===s.type?(e.setState({currentRoundMoves:a,trump:s.move.substring(0,1)}),e.calcRoundWinner()):"roundOver"===s.type?(e.setState({currentRoundMoves:a}),e.calcRoundWinner()):"move"===s.type&&e.setState({turn:r,currentRoundMoves:a})}}}},{key:"render",value:function(){return Object(m.jsx)("div",{children:this.state.isLoggedIn?Object(m.jsx)("div",{className:"board",children:this.state.readyToStart?this.renderBoard():Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"placement1"}),Object(m.jsx)("div",{className:"placement2"}),Object(m.jsx)("div",{className:"placement3"}),Object(m.jsx)("div",{className:"placement4"}),Object(m.jsxs)("div",{className:"placement5",children:[Object(m.jsx)("div",{className:"subheader",children:"Dehla Pakad"}),Object(m.jsx)("div",{className:"tagline",children:"Waiting for Player to Join"})]}),Object(m.jsx)("div",{className:"placement6"}),Object(m.jsx)("div",{className:"placement7"}),Object(m.jsx)("div",{className:"placement8"}),Object(m.jsx)("div",{className:"placement9"}),Object(m.jsx)("div",{className:"placement10"})]})}):Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{className:"header",children:"Delha Pakad"}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{className:"userName",placeholder:"Enter Username",onChange:this.handleUName}),Object(m.jsx)("button",{className:"login",onClick:this.handleLogin,children:"Login"}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{className:"selectTeam",children:["Select Team:",Object(m.jsxs)("select",{className:"team",onChange:this.handleTeam,children:[Object(m.jsx)("option",{value:"0"}),Object(m.jsx)("option",{value:"1",children:"Team 1"}),Object(m.jsx)("option",{value:"2",children:"Team 2"})]})]})]})})}}]),s}(d.a.Component);u.a.render(Object(m.jsx)(b,{}),document.getElementById("root"))}},[[9,1,2]]]);
//# sourceMappingURL=main.053686c2.chunk.js.map