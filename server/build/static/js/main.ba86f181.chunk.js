(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{10:function(e,t,s){"use strict";s.r(t);var a=s(3),r=s(4),n=s(5),c=s(9),i=s(8),d=s(1),l=s.n(d),u=s(6),j=s.n(u),m=(s(15),s(7)),o=s(0),b=new m.w3cwebsocket("ws://192.168.0.199:8000"),h=function(e){Object(c.a)(s,e);var t=Object(i.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).handleUName=function(e){a.setState({userName:e.target.value})},a.handleTeam=function(e){a.setState({team:e.target.value})},a.handleLogin=function(){""!==a.state.userName&&0!=a.state.team?b.send(JSON.stringify({type:"login",userName:a.state.userName,team:a.state.team})):alert("Please fill all the details")},a.handleNextGame=function(){b.send(JSON.stringify({type:"nextGame",gameCount:a.state.gameCount+1}))},a.handleCardClick=function(e){if(a.state.turn==a.state.userId){var t=0;t=4==a.state.turn?1:a.state.turn+1;var s=a.state.cards.indexOf(e.target.value);a.state.cards.splice(s,1),"NA"==a.state.currentSuit?b.send(JSON.stringify({type:"firstMove",userId:a.state.userId,move:e.target.value})):"NA"==a.state.trump&&a.state.currentSuit!=e.target.value.substring(0,1)&&t==a.state.roundStartsWith?(setTimeout((function(){}),2e3),b.send(JSON.stringify({type:"setTrumpandOver",userId:a.state.userId,move:e.target.value}))):"NA"==a.state.trump&&a.state.currentSuit!=e.target.value.substring(0,1)?(setTimeout((function(){}),2e3),b.send(JSON.stringify({type:"setTrump",userId:a.state.userId,move:e.target.value}))):t==a.state.roundStartsWith?b.send(JSON.stringify({type:"roundOver",userId:a.state.userId,move:e.target.value})):b.send(JSON.stringify({type:"move",userId:a.state.userId,move:e.target.value}))}},a.renderCards=function(){for(var e=[],t={},s=0;s<a.state.cards.length;++s)"D"==a.state.cards[s].substring(0,1)?t[s]="Diamonds":"H"==a.state.cards[s].substring(0,1)?t[s]="Hearts":"C"==a.state.cards[s].substring(0,1)?t[s]="Clubs":"S"==a.state.cards[s].substring(0,1)&&(t[s]="Spades"),"14"==a.state.cards[s].substring(1)?e.push(Object(o.jsx)("button",{className:t[s],style:{cursor:"pointer"},onClick:a.handleCardClick,value:a.state.cards[s],children:"A"})):"13"==a.state.cards[s].substring(1)?e.push(Object(o.jsx)("button",{className:t[s],style:{cursor:"pointer"},onClick:a.handleCardClick,value:a.state.cards[s],children:"K"})):"12"==a.state.cards[s].substring(1)?e.push(Object(o.jsx)("button",{className:t[s],style:{cursor:"pointer"},onClick:a.handleCardClick,value:a.state.cards[s],children:"Q"})):"11"==a.state.cards[s].substring(1)?e.push(Object(o.jsx)("button",{className:t[s],style:{cursor:"pointer"},onClick:a.handleCardClick,value:a.state.cards[s],children:"J"})):e.push(Object(o.jsx)("button",{className:t[s],style:{cursor:"pointer"},onClick:a.handleCardClick,value:a.state.cards[s],children:a.state.cards[s].substring(1)}));return e},a.renderBoard=function(){for(var e=[],t={1:"",2:"",3:"",4:""},s={1:[],2:[],3:[],4:[]},r={1:"",2:"",3:"",4:""},n="NA",c="NA",i=1;i<=4;++i)a.state.currentRoundMoves[i]&&("D"==a.state.currentRoundMoves[i].substring(0,1)?r[i]="Diamonds":"H"==a.state.currentRoundMoves[i].substring(0,1)?r[i]="Hearts":"C"==a.state.currentRoundMoves[i].substring(0,1)?r[i]="Clubs":"S"==a.state.currentRoundMoves[i].substring(0,1)&&(r[i]="Spades"),"14"==a.state.currentRoundMoves[i].substring(1)?s[i].push(Object(o.jsx)("div",{className:r[i],children:"A"})):"13"==a.state.currentRoundMoves[i].substring(1)?s[i].push(Object(o.jsx)("div",{className:r[i],children:"K"})):"12"==a.state.currentRoundMoves[i].substring(1)?s[i].push(Object(o.jsx)("div",{className:r[i],children:"Q"})):"11"==a.state.currentRoundMoves[i].substring(1)?s[i].push(Object(o.jsx)("div",{className:r[i],children:"J"})):s[i].push(Object(o.jsx)("div",{className:r[i],children:a.state.currentRoundMoves[i].substring(1)})));return 1==a.state.currentGameWinner?(t[1]="winner",t[3]="winner"):2==a.state.currentGameWinner?(t[2]="winner",t[4]="winner"):1==a.state.turn?t[1]="current":2==a.state.turn?t[2]="current":3==a.state.turn?t[3]="current":4==a.state.turn&&(t[4]="current"),"D"==a.state.currentSuit?n="Diamonds":"H"==a.state.currentSuit?n="Hearts":"C"==a.state.currentSuit?n="Clubs":"S"==a.state.currentSuit&&(n="Spades"),"D"==a.state.trump?c="Diamonds":"H"==a.state.trump?c="Hearts":"C"==a.state.trump?c="Clubs":"S"==a.state.trump&&(c="Spades"),1==a.state.userId?e.push(Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{className:"placement1",children:[Object(o.jsxs)("div",{className:"stats",children:["Your Details: ",Object(o.jsx)("br",{})]}),"Player: ",a.state.userId," ",Object(o.jsx)("br",{}),"Name: ",a.state.userName," ",Object(o.jsx)("br",{}),"Your Team: Team",a.state.team]}),Object(o.jsxs)("div",{className:t[3]+"placement2",children:[Object(o.jsx)("div",{className:"stats",children:"Player 3:"}),s[3]]}),Object(o.jsxs)("div",{className:"placement3",children:[Object(o.jsxs)("div",{className:"stats",children:["This Game Details: ",Object(o.jsx)("br",{})]}),"Current Suit: ",n," ",Object(o.jsx)("br",{}),"Trump: ",c," ",Object(o.jsx)("br",{}),0==a.state.previousRoundWinner?"Last Hand: NA":"Last Hand: Player"+a.state.previousRoundWinner]}),Object(o.jsxs)("div",{className:t[2]+"placement4",children:[Object(o.jsx)("div",{className:"stats",children:"Player 2:"}),s[2]]}),Object(o.jsx)("div",{className:"placement5",children:0==a.state.currentGameWinner?Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"subheader",children:"Dehla Pakad"}),Object(o.jsxs)("div",{className:"tagline",children:["Game: ",a.state.gameCount]})]}):Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"subheader",children:"Dehla Pakad"}),Object(o.jsx)("div",{className:"tagline",style:{cursor:"pointer"},onClick:a.handleNextGame,children:"Start Next Game"})]})}),Object(o.jsxs)("div",{className:t[4]+"placement6",children:[Object(o.jsx)("div",{className:"stats",children:"Player 4:"}),s[4]]}),Object(o.jsxs)("div",{className:"placement7",children:[Object(o.jsxs)("div",{className:"stats",children:["Hands Captured so far:",Object(o.jsx)("br",{})]}),"Team 1: ",a.state.hands[1].length/4,Object(o.jsx)("br",{}),"Team 2: ",a.state.hands[2].length/4]}),Object(o.jsxs)("div",{className:t[1]+"placement8",children:[Object(o.jsx)("div",{className:"stats",children:"Player 1:"}),s[1]]}),Object(o.jsxs)("div",{className:"placement9",children:[Object(o.jsxs)("div",{className:"stats",children:["Total Points: ",Object(o.jsx)("br",{})]}),"Team 1: ",a.state.team1points," ",Object(o.jsx)("br",{}),"Team 2: ",a.state.team2points]})]})):2==a.state.userId?e.push(Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{className:"placement1",children:[Object(o.jsxs)("div",{className:"stats",children:["Your Details: ",Object(o.jsx)("br",{})]}),"Player: ",a.state.userId," ",Object(o.jsx)("br",{}),"Name: ",a.state.userName," ",Object(o.jsx)("br",{}),"Your Team: Team",a.state.team]}),Object(o.jsxs)("div",{className:t[4]+"placement2",children:[Object(o.jsx)("div",{className:"stats",children:"Player 4:"}),s[4]]}),Object(o.jsxs)("div",{className:"placement3",children:[Object(o.jsxs)("div",{className:"stats",children:["This Game Details: ",Object(o.jsx)("br",{})]}),"Current Suit: ",n," ",Object(o.jsx)("br",{}),"Trump: ",c," ",Object(o.jsx)("br",{}),0==a.state.previousRoundWinner?"Last Hand: NA":"Last Hand: Player"+a.state.previousRoundWinner]}),Object(o.jsxs)("div",{className:t[3]+"placement4",children:[Object(o.jsx)("div",{className:"stats",children:"Player 3:"}),s[3]]}),Object(o.jsx)("div",{className:"placement5",children:0==a.state.currentGameWinner?Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"subheader",children:"Dehla Pakad"}),Object(o.jsxs)("div",{className:"tagline",children:["Game: ",a.state.gameCount]})]}):Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"subheader",children:"Dehla Pakad"}),Object(o.jsx)("div",{className:"tagline",style:{cursor:"pointer"},onClick:a.handleNextGame,children:"Start Next Game"})]})}),Object(o.jsxs)("div",{className:t[1]+"placement6",children:[Object(o.jsx)("div",{className:"stats",children:"Player 1:"}),s[1]]}),Object(o.jsxs)("div",{className:"placement7",children:[Object(o.jsxs)("div",{className:"stats",children:["Hands Captured so far:",Object(o.jsx)("br",{})]}),"Team 1: ",a.state.hands[1].length/4,Object(o.jsx)("br",{}),"Team 2: ",a.state.hands[2].length/4]}),Object(o.jsxs)("div",{className:t[2]+"placement8",children:[Object(o.jsx)("div",{className:"stats",children:"Player 2:"}),s[2]]}),Object(o.jsxs)("div",{className:"placement9",children:[Object(o.jsxs)("div",{className:"stats",children:["Total Points: ",Object(o.jsx)("br",{})]}),"Team 1: ",a.state.team1points," ",Object(o.jsx)("br",{}),"Team 2: ",a.state.team2points]})]})):3==a.state.userId?e.push(Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{className:"placement1",children:[Object(o.jsxs)("div",{className:"stats",children:["Your Details: ",Object(o.jsx)("br",{})]}),"Player: ",a.state.userId," ",Object(o.jsx)("br",{}),"Name: ",a.state.userName," ",Object(o.jsx)("br",{}),"Your Team: Team",a.state.team]}),Object(o.jsxs)("div",{className:t[1]+"placement2",children:[Object(o.jsx)("div",{className:"stats",children:"Player 1:"}),s[1]]}),Object(o.jsxs)("div",{className:"placement3",children:[Object(o.jsxs)("div",{className:"stats",children:["This Game Details: ",Object(o.jsx)("br",{})]}),"Current Suit: ",n," ",Object(o.jsx)("br",{}),"Trump: ",c," ",Object(o.jsx)("br",{}),0==a.state.previousRoundWinner?"Last Hand: NA":"Last Hand: Player"+a.state.previousRoundWinner]}),Object(o.jsxs)("div",{className:t[4]+"placement4",children:[Object(o.jsx)("div",{className:"stats",children:"Player 4:"}),s[4]]}),Object(o.jsx)("div",{className:"placement5",children:0==a.state.currentGameWinner?Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"subheader",children:"Dehla Pakad"}),Object(o.jsxs)("div",{className:"tagline",children:["Game: ",a.state.gameCount]})]}):Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"subheader",children:"Dehla Pakad"}),Object(o.jsx)("div",{className:"tagline",style:{cursor:"pointer"},onClick:a.handleNextGame,children:"Start Next Game"})]})}),Object(o.jsxs)("div",{className:t[2]+"placement6",children:[Object(o.jsx)("div",{className:"stats",children:"Player 2:"}),s[2]]}),Object(o.jsxs)("div",{className:"placement7",children:[Object(o.jsxs)("div",{className:"stats",children:["Hands Captured so far:",Object(o.jsx)("br",{})]}),"Team 1: ",a.state.hands[1].length/4,Object(o.jsx)("br",{}),"Team 2: ",a.state.hands[2].length/4]}),Object(o.jsxs)("div",{className:t[3]+"placement8",children:[Object(o.jsx)("div",{className:"stats",children:"Player 3:"}),s[3]]}),Object(o.jsxs)("div",{className:"placement9",children:[Object(o.jsxs)("div",{className:"stats",children:["Total Points: ",Object(o.jsx)("br",{})]}),"Team 1: ",a.state.team1points," ",Object(o.jsx)("br",{}),"Team 2: ",a.state.team2points]})]})):4==a.state.userId&&e.push(Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{className:"placement1",children:[Object(o.jsxs)("div",{className:"stats",children:["Your Details: ",Object(o.jsx)("br",{})]}),"Player: ",a.state.userId," ",Object(o.jsx)("br",{}),"Name: ",a.state.userName," ",Object(o.jsx)("br",{}),"Your Team: Team",a.state.team]}),Object(o.jsxs)("div",{className:t[2]+"placement2",children:[Object(o.jsx)("div",{className:"stats",children:"Player 2:"}),s[2]]}),Object(o.jsxs)("div",{className:"placement3",children:[Object(o.jsxs)("div",{className:"stats",children:["This Game Details: ",Object(o.jsx)("br",{})]}),"Current Suit: ",n," ",Object(o.jsx)("br",{}),"Trump: ",c," ",Object(o.jsx)("br",{}),0==a.state.previousRoundWinner?"Last Hand: NA":"Last Hand: Player"+a.state.previousRoundWinner]}),Object(o.jsxs)("div",{className:t[1]+"placement4",children:[Object(o.jsx)("div",{className:"stats",children:"Player 1:"}),s[1]]}),Object(o.jsx)("div",{className:"placement5",children:0==a.state.currentGameWinner?Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"subheader",children:"Dehla Pakad"}),Object(o.jsxs)("div",{className:"tagline",children:["Game: ",a.state.gameCount]})]}):Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"subheader",children:"Dehla Pakad"}),Object(o.jsx)("div",{className:"tagline",style:{cursor:"pointer"},onClick:a.handleNextGame,children:"Start Next Game"})]})}),Object(o.jsxs)("div",{className:t[3]+"placement6",children:[Object(o.jsx)("div",{className:"stats",children:"Player 3:"}),s[3]]}),Object(o.jsxs)("div",{className:"placement7",children:[Object(o.jsxs)("div",{className:"stats",children:["Hands Captured so far:",Object(o.jsx)("br",{})]}),"Team 1: ",a.state.hands[1].length/4,Object(o.jsx)("br",{}),"Team 2: ",a.state.hands[2].length/4]}),Object(o.jsxs)("div",{className:t[4]+"placement8",children:[Object(o.jsx)("div",{className:"stats",children:"Player 4:"}),s[4]]}),Object(o.jsxs)("div",{className:"placement9",children:[Object(o.jsxs)("div",{className:"stats",children:["Total Points: ",Object(o.jsx)("br",{})]}),"Team 1: ",a.state.team1points," ",Object(o.jsx)("br",{}),"Team 2: ",a.state.team2points]})]})),e.push(Object(o.jsxs)("div",{className:"placement10",children:[Object(o.jsxs)("div",{className:"stats",children:["Your Cards ",Object(o.jsx)("br",{})]}),a.renderCards()]})),e},a.calcRoundWinner=function(){var e=0,t=0,s=a.state.hands[1].slice(),r=a.state.hands[2].slice(),n=a.state.pile.slice();if(a.state.currentRoundMoves[1].substring(0,1)==a.state.currentSuit&&a.state.currentRoundMoves[2].substring(0,1)==a.state.currentSuit&&a.state.currentRoundMoves[3].substring(0,1)==a.state.currentSuit&&a.state.currentRoundMoves[4].substring(0,1)==a.state.currentSuit)for(var c=1;c<=4;++c)parseInt(a.state.currentRoundMoves[c].substring(1))>parseInt(e)&&(e=a.state.currentRoundMoves[c].substring(1),t=c);else if(a.state.currentRoundMoves[1].substring(0,1)!=a.state.trump&&a.state.currentRoundMoves[2].substring(0,1)!=a.state.trump&&a.state.currentRoundMoves[3].substring(0,1)!=a.state.trump&&a.state.currentRoundMoves[4].substring(0,1)!=a.state.trump)for(var i=1;i<=4;++i)parseInt(a.state.currentRoundMoves[i].substring(1))>parseInt(e)&&a.state.currentRoundMoves[i].substring(0,1)==a.state.currentSuit&&(e=a.state.currentRoundMoves[i].substring(1),t=i);else for(var d=1;d<=4;++d)parseInt(a.state.currentRoundMoves[d].substring(1))>parseInt(e)&&a.state.currentRoundMoves[d].substring(0,1)==a.state.trump&&(e=a.state.currentRoundMoves[d].substring(1),t=d);for(var l=1;l<=4;++l)n=n.concat(a.state.currentRoundMoves[l]);0==a.state.cards.length?(1==t||3==t?s=a.state.hands[1].concat(n):r=a.state.hands[2].concat(n),a.setState({pile:[],hands:{1:s,2:r},previousRoundWinner:t,turn:t}),a.calcGameWinner()):t==a.state.previousRoundWinner?(1==t||3==t?s=a.state.hands[1].concat(n):r=a.state.hands[2].concat(n),a.setState({turn:t,hands:{1:s,2:r},previousRoundWinner:0,pile:[],currentRoundMoves:{},roundStartsWith:t,currentSuit:"NA"})):a.setState({turn:t,previousRoundWinner:t,pile:n,currentRoundMoves:{},roundStartsWith:t,currentSuit:"NA"})},a.calcGameWinner=function(){for(var e=0,t=0,s=0;s<a.state.hands[1].length;++s)"10"==a.state.hands[1][s].substring(1)&&(e+=1);for(var r=0;r<a.state.hands[2].length;++r)"10"==a.state.hands[2][r].substring(1)&&(t+=1);var n=a.state.team1points,c=a.state.team2points;4==e?(n+=3,a.setState({currentGameWinner:1,team1points:n})):4==t?(c+=3,a.setState({currentGameWinner:2,team2points:c})):3==e?(n+=2,a.setState({currentGameWinner:1,team1points:n})):3==t?(c+=2,a.setState({currentGameWinner:2,team2points:c})):e==t&&(a.state.hands[1].length>a.state.hands[2].length?(n+=1,a.setState({currentGameWinner:1,team1points:n})):a.state.hands[1].length<a.state.hands[2].length&&(c+=1,a.setState({currentGameWinner:2,team1points:c})))},a.state={userId:0,userName:"",team:0,cards:[],turn:0,roundStartsWith:0,currentSuit:"NA",currentRoundMoves:{},pile:[],hands:{1:[],2:[]},trump:"NA",previousRoundWinner:0,isLoggedIn:!1,readyToStart:!1,team1points:0,team2points:0,gameCount:0,currentGameWinner:0},a}return Object(n.a)(s,[{key:"componentDidMount",value:function(){var e=this;b.onopen=function(){console.log("Connected")},b.onmessage=function(t){var s=JSON.parse(t.data);if("login"===s.type)e.setState({userId:s.id,isLoggedIn:!0});else if("roomFull"===s.type)alert("Room Full");else if("teamFull"===s.type)alert("Team full, please try other team");else if("ready"===s.type)e.setState({readyToStart:!0,cards:s.cards,turn:1,roundStartsWith:1,gameCount:1});else if("nextGame"===s.type)e.setState({cards:s.cards,roundStartsWith:1,currentSuit:"NA",currentRoundMoves:{},pile:[],hands:{1:[],2:[]},trump:"NA",previousRoundWinner:0,gameCount:s.gameCount,currentGameWinner:0}),alert("Starting Next Game");else{var a=e.state.currentRoundMoves;a[s.userId]=s.move;var r=0;r=4==e.state.turn?1:e.state.turn+1,"firstMove"===s.type?e.setState({roundStartsWith:s.userId,turn:r,currentRoundMoves:a,currentSuit:s.move.substring(0,1)}):"setTrump"===s.type?e.setState({turn:r,currentRoundMoves:a,trump:s.move.substring(0,1)}):"setTrumpandOver"===s.type?(e.setState({currentRoundMoves:a,trump:s.move.substring(0,1)}),e.calcRoundWinner()):"roundOver"===s.type?(e.setState({currentRoundMoves:a}),e.calcRoundWinner()):"move"===s.type&&e.setState({turn:r,currentRoundMoves:a})}}}},{key:"render",value:function(){var e;return Object(o.jsx)("div",{children:this.state.isLoggedIn?Object(o.jsx)("div",{className:"board",children:this.state.readyToStart?this.renderBoard():Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"placement1"}),Object(o.jsx)("div",{className:"placement2"}),Object(o.jsx)("div",{className:"placement3"}),Object(o.jsx)("div",{className:"placement4"}),Object(o.jsxs)("div",{className:"placement5",children:[Object(o.jsx)("div",{className:"subheader",children:"Dehla Pakad"}),Object(o.jsx)("div",{className:"tagline",children:"Waiting for Player to Join"})]}),Object(o.jsx)("div",{className:"placement6"}),Object(o.jsx)("div",{className:"placement7"}),Object(o.jsx)("div",{className:"placement8"}),Object(o.jsx)("div",{className:"placement9"}),Object(o.jsx)("div",{className:"placement10"})]})}):Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{className:"header",children:"Delha Pakad"}),Object(o.jsx)("br",{}),Object(o.jsx)("input",{className:"userName",placeholder:"Enter Username",onChange:this.handleUName}),Object(o.jsx)("button",{className:"login",onClick:this.handleLogin,children:"Login"}),Object(o.jsx)("br",{}),Object(o.jsxs)("div",{className:"selectTeam",children:["Select Team:",Object(o.jsxs)("select",{className:"team",onChange:this.handleTeam,children:[Object(o.jsx)("option",(e={value:"0",hidden:!0,disabled:!0,selected:!0},Object(a.a)(e,"value",!0),Object(a.a)(e,"children","--Select a team--"),e)),Object(o.jsx)("option",{value:"1",children:"Team 1"}),Object(o.jsx)("option",{value:"2",children:"Team 2"})]})]})]})})}}]),s}(l.a.Component);j.a.render(Object(o.jsx)(h,{}),document.getElementById("root"))},15:function(e,t,s){}},[[10,1,2]]]);
//# sourceMappingURL=main.ba86f181.chunk.js.map